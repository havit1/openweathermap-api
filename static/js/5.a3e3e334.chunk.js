(window["webpackJsonpopenweathermap-api"]=window["webpackJsonpopenweathermap-api"]||[]).push([[5],{65:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(64),r=a(3),i=a.n(r),o=a(4),c=a(14),s=a(5),l=a(6),d=a(9),u=a(7),m=a(10),p=a(0),h=a.n(p),g=a(8),f=(a(65),a(61)),w=a.n(f),y=function(e){var t=e.itemsCount,a=e.pageSize,n=e.currentPage,r=e.onPageChange,i=Math.ceil(t/a);if(1===i)return null;var o=w.a.range(1,i+1);return h.a.createElement("nav",null,h.a.createElement("ul",{className:"pagination"},o.map((function(e){return h.a.createElement("li",{key:e,className:e===n?"page-item active":"page-item",onClick:function(){return r(e)}},h.a.createElement("a",{className:"page-link"},e))}))))},b=function(e){var t=e.data,a=e.photo,n=e.showComponent,r=e.handlePageChange,i=e.currentPage,o=e.sortedData,c=e.getDayName;return h.a.createElement("div",null,!0===n?h.a.createElement("div",{className:"detailed-info"},t.info.map((function(e){return h.a.createElement("div",{key:e[0].dt,className:"detailed-info__body"},h.a.createElement("h2",{className:"detailed-info__day-name"},c(e[0].dt_txt)),e.map((function(e){return h.a.createElement("div",{className:"detailed-info__weather-card",key:e.dt_txt},h.a.createElement("h2",{className:"detailed-info__weather-card-time"},e.dt_txt.slice(12,16).replace(/(\w+)\.(\w+)/,"$1","$2").replace("-",".")),h.a.createElement("div",{className:"detailed-info__weather-card-temp-img"},h.a.createElement("div",null,Math.round(e.main.temp),"\xb0C"),h.a.createElement("img",{alt:"/",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")})),h.a.createElement("div",{className:"detailed-info__weather-card-additional"},h.a.createElement("span",null,"Humidity: ",e.main.humidity),h.a.createElement("span",null,"Wind: ",e.wind.speed)))})))})),h.a.createElement(y,{className:"pagination",itemsCount:o.length,pageSize:1,currentPage:i,onPageChange:r}),h.a.createElement("h1",{className:"awesome-photos"},"Awesome photos"),h.a.createElement("div",{className:"awesome-photos__wrapper"},a.map((function(e){return h.a.createElement("div",{key:e.id,className:"awesome-photos__wrapper-photo"},h.a.createElement("img",{src:e.urls.small,alt:""}))})))):h.a.createElement("div",{className:"loading"},h.a.createElement("h1",{className:"loading_text"},"Loading...")))};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var E=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).getDetailedInfo=function(e){return g.a.get("https://api.openweathermap.org/data/2.5/forecast?id=".concat(e,"&units=metric&APPID=97ea200bf11177ab3c207304b3be2608"))},e.getPhoto=function(e){return g.a.get("https://api.unsplash.com/search/photos?count=10&query=".concat(e,",town&client_id=1daed900b99463debb658164eea9672dc7f95f9939b97a745a479ddbe5592be8"))},e.handlePageChange=function(t){e.setState({currentPage:t})},e.getDayName=function(e){e.split(" ").join("T");return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]},e.getWeatherForEachDay=function(e){for(var t=[],a=Object(c.a)(e),n=0;n<a.length;n++){var r=a.filter((function(e){return new Date(a[0].dt_txt.split(" ").join("T")).getDay()===new Date(e.dt_txt.split(" ").join("T")).getDay()}));t.push(r),a.splice(a.indexOf(r[0]),a.indexOf(r[r.length-1])+1)}return t},e.state={data:{},showComponent:!1,image:{},currentPage:1,sortedData:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.city,e.next=3,this.getDetailedInfo(t);case 3:return a=e.sent,this.setState({data:a.data}),n=this.getWeatherForEachDay(a.data.list),this.setState({sortedData:n}),e.next=9,this.getPhoto(this.state.data.city.name);case 9:r=e.sent,this.setState({image:r.data.results,showComponent:!0});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.image,a=e.showComponent,r=e.currentPage,i=e.sortedData,o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i,{info:function(e,t,a){var n=(t-1)*a;return w()(e).slice(n).take(a).value()}(i,r,1)});return h.a.createElement(b,{getDayName:this.getDayName,sortedData:i,photo:t,data:o,showComponent:a,handlePageChange:this.handlePageChange,currentPage:r})}}]),t}(p.Component);t.default=E}}]);
//# sourceMappingURL=5.a3e3e334.chunk.js.map